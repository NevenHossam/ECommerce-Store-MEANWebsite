<!--================Home Banner Area =================-->
<!-- breadcrumb start-->
<section class="breadcrumb breadcrumb_bg p-3">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="breadcrumb_iner">
                    <div class="breadcrumb_iner_item">
                        <p>Home / {{ currentUser.userName }}'s Profile</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="container">
    <!-- breadcrumb start-->
    <div class="container bootstrap snippet m-3">
        <div class="row">
            <div class="col-sm-10">
                <h1>{{ currentUser.userName }}</h1>
            </div>
            <div class="col-sm-2">
                <div class="pull-right"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <!--left col-->
                <div class="text-center col-12">
                    <div class="m-2">
                        <div class="preview" >
                            <img [src]="userData.image" *ngIf="userData.image" class="avatar rounded-circle img-thumbnail" />
                            <img src="{{userData.imageUrl}}" *ngIf="userData.image === null" class="avatar rounded-circle img-thumbnail" />
                            <!-- <img src="{{imgObj.image}}" class="avatar rounded-circle img-thumbnail" /> -->
                        </div>
                        <h6>Upload a photo</h6>
                        <input type="file" class="text-center center-block file-upload" (change)="uploadFile($event)" />
                    </div>
                    <hr />
                    <div class="row align-content-center">
                        <div class="col-sm-12">
                            <!--left col-->
                            <ul class="list-group">
                                <li class="list-group-item text-muted" contenteditable="false">
                                    Personal Info
                                </li>
                                <li class="list-group-item text-left">
                                    <span class="pull-right"><strong class="">Name: </strong></span> {{ currentUser.userName }}
                                </li>
                                <li class="list-group-item text-left">
                                    <span class="pull-right"><strong class="">Email: </strong></span> {{ currentUser.userEmail }}
                                </li>
                                <li class="list-group-item text-left">
                                    <span class="pull-right"><strong class="">Gender: </strong></span> {{ currentUser.userGender }}
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!--/col-3-->
            <div class="col-sm-9">
                <ul class="nav nav-tabs m-1" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link" href="#editInfo" role="tab" data-toggle="tab">Edit Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#ChangePassword" role="tab" data-toggle="tab">Change Password</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#orders" role="tab" data-toggle="tab">Orders</a>
                    </li>
                </ul>

                <div class="tab-content">

                    <div class="tab-pane" id="editInfo">

                        <app-edit-profile></app-edit-profile>
                    </div>

                    <div class="tab-pane" id="ChangePassword">
                        <app-change-password></app-change-password>
                    </div>

                    <div class="tab-pane" id="orders">
                        <app-user-orders></app-user-orders>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        var readURL = function(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function(e) {
                    $(".avatar").attr("src", e.target.result);
                };
                reader.readAsDataURL(input.files[0]);
            }
        };

        $(".file-upload").on("change", function() {
            readURL(this);
        });
    });
</script>